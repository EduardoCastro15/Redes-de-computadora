#include<stdio.h>
int main(){
	unsigned char Trama1[]={0x00, 0x02, 
							0xb3, 0x9c, 
							0xae, 0xba, 
							0x00, 0x02, 
							0xb3, 0x9c, 
							0xdf, 0x1b, 
							0x00, 0x03, 
							0xf0, 0xf0, 
							0x7f, 0x00};
	unsigned char Trama2[]={0x45, 0x00, 
							0x00, 0x3c, 
							0x04, 0x57, 
							0x00, 0x00, 
							0x80, 0x01, 
							0x98, 0x25, 
							0x94, 0xcc, 
							0x39, 0xcb, 
							0x94, 0xcc,
							0x30, 0xe1};
	unsigned char Trama3[]={0x45, 0x00, 
							0x00, 0x3c, 
							0x01, 0xd9, 
							0x00, 0x00, 
							0xff, 0x01, 
							0x1c, 0xc8, 
							0x94, 0xcc, 
							0xb7, 0xcf, 
							0x94, 0xcc, 
							0xbb, 0xb7};
	unsigned char Trama4[]={0xc0,0xa8,
		 					0x02,0x3c,
							0x4a,0x7d,
							0x5f,0x68,
							0x00,0x06,
							0x00,0x1c,
							0x10,0x52,
							0x00,0x50,
							0x03,0xc7,
							0x5a,0xa1,
							0x70,0x02,
							0x40,0x00,
							0x02,0x04,
							0x05,0xb4,
							0x01,0x01,
							0x04,0x02};
	int Tam=sizeof(Trama4)/sizeof(Trama4[0]), i;
	unsigned int CheckSum=0;
	
	for(i=0; i<Tam; i++)
		CheckSum+=Trama4[i++]<<8 | Trama4[i];
	printf("Resultado de la suma: 0x%x\n", CheckSum);
	
	CheckSum=(CheckSum>>16) + (CheckSum & 0xffff); //En caso de tener acarreo, se suma
	printf("Resultado de la suma del acarreo: 0x%x\n", CheckSum);
	printf("CheckSum: 0x%x\n", CheckSum ^ 0xffff);
}
